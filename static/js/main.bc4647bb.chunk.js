(window["webpackJsonpnot-so-trivial-pursuit"]=window["webpackJsonpnot-so-trivial-pursuit"]||[]).push([[0],{36:function(e,t,a){e.exports=a(64)},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),s=a.n(o),c=a(4),i=a(5),l=a(7),u=a(3),m=a(6),p=function(e){return r.a.createElement("header",{className:e.className},r.a.createElement("h1",null,"Not So Trivial Pursuit"))},d=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 2019"," ",r.a.createElement("a",{href:"https://www.alexandralim.dev",target:"_blank",rel:"noopener noreferrer"},"Alex"),","," ",r.a.createElement("a",{href:"https://anamorales.dev/",target:"_blank",rel:"noopener noreferrer"},"Ana"),","," ",r.a.createElement("a",{href:"https://www.danielfitz.com",target:"_blank",rel:"noopener noreferrer"},"Dan"),", and"," ",r.a.createElement("a",{href:"http://www.pujacodes.com/",target:"_blank",rel:"noopener noreferrer"},"Puja")),r.a.createElement("p",null,"Powered by"," ",r.a.createElement("a",{href:"https://opentdb.com/api_config.php",target:"_blank",rel:"noopener noreferrer"},"Open Trivia Database API")))},h=a(16),f=a.n(h);a(41);f.a.initializeApp({apiKey:"AIzaSyBpw3tE6AJyaDq67EN3TSNLSYQCL-Ylxis",authDomain:"not-so-trivial-pursuit.firebaseapp.com",databaseURL:"https://not-so-trivial-pursuit.firebaseio.com",projectId:"not-so-trivial-pursuit",storageBucket:"",messagingSenderId:"657152516422",appId:"1:657152516422:web:57fd70d13c20a1e33e0547"});var g=f.a,v=function(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dot dot-1"}),r.a.createElement("div",{className:"dot dot-2"}),r.a.createElement("div",{className:"dot dot-3"})),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1"},r.a.createElement("defs",null,r.a.createElement("filter",{id:"goo"},r.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur"}),r.a.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 21 -7"})))))},b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={games:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.database().ref().on("value",(function(t){var a=t.val(),n=[];for(var r in a)n.push({id:r,created:a[r].created,gameName:a[r].gameName,category:a[r].category,numQuestions:a[r].questionSet.length});n.sort((function(e,t){return e.created<t.created?1:-1})),e.setState({games:n})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"gameListSection"},r.a.createElement("button",{className:"returnHome button",onClick:function(){return e.props.toggleGame("")}},"X"),r.a.createElement("div",{className:"gameListHeading"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",null,"Saved Games"))),r.a.createElement("ul",{className:"existingGames"},this.state.games.map((function(t){return r.a.createElement("li",{className:"existingGame",onClick:function(){return e.props.selectSavedGame(t.id)},key:t.id,tabIndex:"0"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h3",null,t.gameName),r.a.createElement("p",null,"Category: ",t.category),r.a.createElement("p",null,"Number of questions: ",t.numQuestions)))}))),this.state.games.length?null:r.a.createElement(v,null))}}]),t}(n.Component),w=a(9),E=a(8),S=a.n(E),y=a(35),N=a(13),C=a(34),O=a(17);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var j={27:"Animals",9:"General Knowledge",22:"Geography",23:"History",11:"Movies",17:"Science and Nature",21:"Sports"},q=function(e,t){var a=Object(y.a)(e.state.questionSet),n=a[t.target.name];n.userAnswer=t.target.value,n.userAnswer===n.correctAnswer?n.isCorrect=!0:n.isCorrect=!1,e.setState({questionSet:a})},k=function(e,t,a,n){return e.state.isSubmitted?a===n?r.a.createElement(O.a,{icon:"check",className:"answerIcon","aria-hidden":!0}):t===n?r.a.createElement(O.a,{icon:"times",className:"answerIcon","aria-hidden":!0}):void 0:""},B=function(e,t){return{title:"Your final score is ".concat(e,"/").concat(t),type:"info",allowOutsideClick:!1,customClass:{popup:"ourSwal",title:"swalTitle",confirmButton:"mySwalConfirmButton"}}},T={title:"Please answer all the questions before submitting.",type:"error",allowOutsideClick:!1,customClass:{popup:"ourSwal",title:"swalTitle",confirmButton:"mySwalConfirmButton"}},A={title:"Play again?",type:"question",showCancelButton:!0,allowOutsideClick:!1,customClass:{popup:"ourSwal",title:"swalTitle",confirmButton:"mySwalConfirmButton",cancelButton:"mySwalCancelButton"}},D={title:"Something is wrong.  Please try again later",type:"error",customClass:{popup:"ourSwal",title:"swalTitle",confirmButton:"mySwalConfirmButton"}},x=function(e,t,a){var n={gameName:e||"Untitled Trivia Game",category:j[t],questionSet:a},r=g.database().ref().push();r.set(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(N.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:r.key,created:Date.now()},n)),C.a.fire({title:"Saved!",text:"Your game is now in the Saved Games list!",type:"success",customClass:{popup:"ourSwal",title:"swalTitle",content:"swalText",confirmButton:"mySwalConfirmButton"}})},P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){q(Object(w.a)(a),e)},a.submitAnswers=function(e){e.preventDefault();var t=e.target,n=a.state.questionSet.filter((function(e){return e.isCorrect})).length;a.setState({isSubmitted:!0}),S.a.fire({title:"Your final score is ".concat(n,"/").concat(a.state.questionSet.length),text:"Would you like to play again?",type:"success",showCancelButton:!0,confirmButtonText:"Yes, play again",cancelButtonText:"No, exit the game",allowOutsideClick:!1,customClass:{popup:"ourSwal",title:"swalTitle",content:"swalText",confirmButton:"mySwalConfirmButton",cancelButton:"mySwalCancelButton"}}).then((function(e){e.value?(t.reset(),a.setState({isSubmitted:!1}),window.scrollTo(0,0)):a.props.toggleGame("")}))},a.state={questionSet:[],gameName:"",category:"",score:0,isSubmitted:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.database().ref(this.props.savedGameId).once("value",(function(t){var a=t.val();e.setState({questionSet:a.questionSet,gameName:a.gameName,category:a.category})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"savedGame",action:"",id:"radioInputs",onSubmit:this.submitAnswers},r.a.createElement("button",{className:"returnHome button",onClick:function(){return e.props.toggleGame("")}},"X"),r.a.createElement("div",{className:"gameHeading"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",null,this.state.gameName),r.a.createElement("h3",null,this.state.category),r.a.createElement("h4",null,"Number of questions: ",this.state.questionSet.length))),this.state.questionSet.map((function(t,a){return r.a.createElement("div",{key:a,className:"question",onChange:e.handleChange},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",null,a+1,". ",t.question),r.a.createElement("div",{className:"choices"},t.choices.map((function(n,o){var s="".concat(a);return r.a.createElement("div",{key:"".concat(a,"-").concat(o)},r.a.createElement("input",{type:"radio",name:s,id:"".concat(s,"-").concat(o),value:n,className:"radioButton"}),r.a.createElement("label",{htmlFor:"".concat(s,"-").concat(o),className:"questionLabel"},n,k(e,t.userAnswer,t.correctAnswer,n)))})))))})),this.state.questionSet.length?r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"formSubmit button"},"Submit")):null,"}) }")}}]),t}(n.Component),I=a(32),Q=a.n(I),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).createQuestionSet=function(e,t){var n=[];return e.forEach((function(e,r){n.push({id:"Q-".concat(r),question:a.htmlDecode(e.question),choices:t[r],correctAnswer:a.htmlDecode(e.correct_answer),userAnswer:"",isCorrect:""})})),n},a.getChoices=function(e){var t=[];return e.forEach((function(e,a){t.push(e.incorrect_answers);var n=Math.floor(Math.random()*(e.incorrect_answers.length+1));t[a].splice(n,0,e.correct_answer)})),t.forEach((function(e){e.forEach((function(t,n){e[n]=a.htmlDecode(t)}))})),t},a.htmlDecode=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},a.handleCriteria=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a.handlePlay=function(e){e.preventDefault(),a.resetStates(),Q()({url:"https://opentdb.com/api.php",params:{category:a.state.category,amount:a.state.numQuestions,type:"multiple",difficulty:"easy"}}).then((function(e){var t=e.data.results,n=a.getChoices(t),r=a.createQuestionSet(t,n);a.setState({responseData:t,choices:n,questionSet:r})})).catch((function(e){S.a.fire(D)}))},a.handleChange=function(e){q(Object(w.a)(a),e)},a.submitAnswers=function(e){if(e.preventDefault(),a.state.questionSet.filter((function(e){return""!==e.userAnswer})).length!=a.state.numQuestions)S.a.fire(T);else{var t=a.state.questionSet.filter((function(e){return e.isCorrect})).length;a.setState({isSubmitted:!0}),S.a.fire(B(t,a.state.questionSet.length)).then((function(){S.a.fire(A).then((function(e){e.value&&a.resetStates()}))}))}},a.resetStates=function(){a.setState({responseData:[],choices:[],questionSet:[],isSubmitted:!1})},a.state={responseData:[],choices:[],questionSet:[],category:"",numQuestions:10,gameName:"",isSubmitted:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.questionSet,n=t.gameName,o=t.category;return r.a.createElement("div",{className:"newGameTrivia"},r.a.createElement("button",{className:"returnHome button",onClick:function(){return e.props.toggleGame("")}},"X"),r.a.createElement("form",{onSubmit:this.handlePlay,className:"criteria"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"criteriaType"},r.a.createElement("label",{htmlFor:"gameName"},"Game Name"),r.a.createElement("input",{type:"text",id:"gameName",name:"gameName",placeholder:"Enter name here",onChange:this.handleCriteria,value:this.state.gameName,required:!0})),r.a.createElement("div",{className:"criteriaType"},r.a.createElement("label",{htmlFor:"category"},"Categories"),r.a.createElement("select",{name:"category",id:"category",onChange:this.handleCriteria,required:!0,value:this.state.category},r.a.createElement("option",{value:""},"Choose one"),r.a.createElement("option",{value:"27"},"Animals"),r.a.createElement("option",{value:"9"},"General Knowledge"),r.a.createElement("option",{value:"22"},"Geography"),r.a.createElement("option",{value:"23"},"History"),r.a.createElement("option",{value:"11"},"Movies"),r.a.createElement("option",{value:"17"},"Science and Nature"),r.a.createElement("option",{value:"21"},"Sports"))),r.a.createElement("div",{className:"criteriaType"},r.a.createElement("label",{htmlFor:"numQuestions"},"Number of Questions"),r.a.createElement("select",{name:"numQuestions",id:"numQuestions",className:"numQuestions",onChange:this.handleCriteria,required:!0,value:this.state.numQuestions},r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"15"},"15"),r.a.createElement("option",{value:"20"},"20")))),r.a.createElement("button",{type:"submit",className:"playGame button"},"Let's play")),r.a.createElement("form",{action:"",onSubmit:this.submitAnswers},a.map((function(t,a){return r.a.createElement("div",{key:a,className:"question",onChange:e.handleChange},r.a.createElement("div",{className:"wrapper"},r.a.createElement("h2",null,a+1,". ",t.question),r.a.createElement("div",{className:"choices"},t.choices.map((function(n,o){var s="".concat(a);return r.a.createElement("div",{key:"".concat(a,"-").concat(o)},r.a.createElement("input",{type:"radio",name:s,id:"".concat(s,"-").concat(o),value:n,className:"radioButton"}),r.a.createElement("label",{htmlFor:"".concat(s,"-").concat(o),className:"questionLabel"},n,k(e,t.userAnswer,t.correctAnswer,n)))})))))})),this.state.questionSet.length?r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"button"},"Submit")):null),this.state.questionSet.length?r.a.createElement("button",{className:"button",onClick:function(){x(n,o,a)}},"Save Game"):null)}}]),t}(n.Component),H=(a(63),a(11)),_=a(33),M=a(18);H.b.add(_.a,M.b,M.a);var Y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).renderComponent=function(){return"newGame"===e.state.componentToShow?r.a.createElement(L,{toggleGame:e.toggleGame}):"gameList"===e.state.componentToShow?r.a.createElement(b,{selectSavedGame:e.selectSavedGame,toggleGame:e.toggleGame}):"savedGame"===e.state.componentToShow?r.a.createElement(P,{savedGameId:e.state.savedGameId,toggleGame:e.toggleGame}):void 0},e.toggleGame=function(t){e.setState({componentToShow:t})},e.selectSavedGame=function(t){e.setState({savedGameId:t,componentToShow:"savedGame"})},e.state={componentToShow:"",savedGameId:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(p,{className:this.state.componentToShow?"smallHeader":"largeHeader"}),this.state.componentToShow?null:r.a.createElement("section",{className:"gameButtons"},r.a.createElement("button",{className:"button",type:"submit",onClick:function(){return e.toggleGame("newGame")}},"New Game"),r.a.createElement("button",{className:"button",type:"submit",onClick:function(){return e.toggleGame("gameList")}},"Saved Games")),this.renderComponent(),r.a.createElement(d,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.bc4647bb.chunk.js.map